(function(e,t,n){function i(t,n){this.$container=e(t);this.defaults={masterCheckboxClass:"master-checkbox",slaveCheckboxClass:"slave-checkbox",onCheckBefore:function(e,t,n){return},onCheckAfter:function(e,t,n){return},onUncheckBefore:function(e,t,n){return},onUncheckAfter:function(e,t,n){return},onMasterCheckBefore:function(e,t,n){return},onMasterCheckAfter:function(e,t,n){return},onMasterUncheckBefore:function(e,t,n){return},onMasterUncheckAfter:function(e,t,n){return},onSlaveCheckBefore:function(e,t,n){return},onSlaveCheckAfter:function(e,t,n){return},onSlaveUncheckBefore:function(e,t,n){return},onSlaveUncheckAfter:function(e,t,n){return}};this.opts=e.extend(this.defaults,n);this.$container.data(r,this);this.$masterElements=null;this.$slaveElements=null;this.slaveElementsCount=0;this.masterElementsCount=0;this.checkedSlaveElementsCount=0;this.checkedMasterElementsCount=0}var r="checkthemall";i.prototype.init=function(){this.setParams();this.setMasterElements();this.setSlaveElements();this.setInitialState();this.setEvents();return this};i.prototype.setParams=function(){if(this.$container.attr("data-checkthemall-mastercheckboxclass")){this.opts.masterCheckboxClass=this.$container.attr("data-checkthemall-mastercheckboxclass")}if(this.$container.attr("data-checkthemall-slavecheckboxclass")){this.opts.slaveCheckboxClass=this.$container.attr("data-checkthemall-slavecheckboxclass")}return this};i.prototype.setMasterElements=function(){var e='input[type="checkbox"].'+this.opts.masterCheckboxClass+", "+'input[type="radio"].'+this.opts.masterCheckboxClass;this.$masterElements=this.$container.find(e);if(this.$masterElements.length==0){console.warn("jQuery CheckThemAll: No Master Element found.",this.$container,this.opts)}return this};i.prototype.setSlaveElements=function(){var e='input[type="checkbox"].'+this.opts.slaveCheckboxClass+", "+'input[type="radio"].'+this.opts.slaveCheckboxClass;this.$slaveElements=this.$container.find(e);if(this.$slaveElements.length==0){console.warn("jQuery CheckThemAll: No Slave Element found.",this.$container,this.opts)}return this};i.prototype.setInitialState=function(){var t=this;t.$masterElements.each(function(n,r){t.masterElementsCount++;if(e(r).prop("checked")==true){t.checkedMasterElementsCount++}});t.$slaveElements.each(function(n,r){t.slaveElementsCount++;if(e(r).prop("checked")==true){t.checkedSlaveElementsCount++}});if(t.checkedSlaveElementsCount>0&&t.checkedSlaveElementsCount<t.slaveElementsCount){t.uncheckMasterElements()}if(t.checkedSlaveElementsCount==t.slaveElementsCount){t.checkMasterElements();t.uncheckSlaveElements()}return t};i.prototype.checkSlaveElements=function(){var t=this;t.$slaveElements.each(function(n,r){if(e(r).prop("checked")==false){t.opts.onCheckBefore(t.$container,e(r),t.opts);t.opts.onSlaveCheckBefore(t.$container,e(r),t.opts);e(r).prop("checked",true);t.opts.onCheckAfter(t.$container,e(r),t.opts);t.opts.onSlaveCheckAfter(t.$container,e(r),t.opts)}});this.checkedSlaveElementsCount=this.slaveElemterentsCount;return t};i.prototype.uncheckSlaveElements=function(){var t=this;t.$slaveElements.each(function(n,r){if(e(r).prop("checked")==true){t.opts.onUncheckBefore(t.$container,e(r),t.opts);t.opts.onSlaveUncheckBefore(t.$container,e(r),t.opts);e(r).prop("checked",false);t.opts.onUncheckAfter(t.$container,e(r),t.opts);t.opts.onSlaveUncheckAfter(t.$container,e(r),t.opts)}});this.checkedSlaveElementsCount=0;return t};i.prototype.checkMasterElements=function(){var t=this;t.$masterElements.each(function(n,r){if(e(r).prop("checked")==false){t.opts.onCheckBefore(t.$container,e(r),t.opts);t.opts.onMasterCheckBefore(t.$container,e(r),t.opts);e(r).prop("checked",true);t.opts.onCheckAfter(t.$container,e(r),t.opts);t.opts.onMasterCheckAfter(t.$container,e(r),t.opts)}});this.checkedMasterElementsCount=this.masterElementsCount;return t};i.prototype.uncheckMasterElements=function(){var t=this;t.$masterElements.each(function(n,r){if(e(r).prop("checked")==true){t.opts.onUncheckBefore(t.$container,e(r),t.opts);t.opts.onMasterUncheckBefore(t.$container,e(r),t.opts);e(r).prop("checked",false);t.opts.onUncheckAfter(t.$container,e(r),t.opts);t.opts.onMasterUncheckAfter(t.$container,e(r),t.opts)}});this.checkedMasterElementsCount=0;return t};i.prototype.setEvents=function(){var t=this;t.$masterElements.each(function(n,r){e(r).on("click",function(){if(e(this).prop("checked")){t.checkedMasterElementsCount++;t.uncheckSlaveElements();t.opts.onMasterCheckBefore(t.$container,e(r),t.opts);t.opts.onMasterCheckAfter(t.$container,e(r),t.opts);t.opts.onCheckBefore(t.$container,e(r),t.opts);t.opts.onCheckAfter(t.$container,e(r),t.opts)}else{t.checkedMasterElementsCount--;t.opts.onMasterUncheckBefore(t.$container,e(r),t.opts);t.opts.onMasterUncheckAfter(t.$container,e(r),t.opts);t.opts.onUncheckBefore(t.$container,e(r),t.opts);t.opts.onUncheckAfter(t.$container,e(r),t.opts)}})});t.$slaveElements.each(function(n,r){e(r).on("click",function(){if(e(this).prop("checked")){t.checkedSlaveElementsCount++;if(t.checkedSlaveElementsCount==t.slaveElementsCount){t.checkMasterElements();t.uncheckSlaveElements()}else{t.uncheckMasterElements();t.opts.onSlaveCheckBefore(t.$container,e(r),t.opts);t.opts.onSlaveCheckAfter(t.$container,e(r),t.opts);t.opts.onCheckBefore(t.$container,e(r),t.opts);t.opts.onCheckAfter(t.$container,e(r),t.opts)}}else{t.checkedSlaveElementsCount--;t.opts.onSlaveUncheckBefore(t.$container,e(r),t.opts);t.opts.onSlaveUncheckAfter(t.$container,e(r),t.opts);t.opts.onUncheckBefore(t.$container,e(r),t.opts);t.opts.onUncheckAfter(t.$container,e(r),t.opts)}})});return t};e.fn.checkThemAll=function(t){e(this).each(function(){var e=new i(this,t);e.init()});return this}})(jQuery,document,window)